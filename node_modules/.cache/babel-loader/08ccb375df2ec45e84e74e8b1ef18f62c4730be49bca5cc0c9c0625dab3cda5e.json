{"ast":null,"code":"import*as THREE from'three';import{useRef,useState,useMemo,useEffect,Suspense}from'react';import{Canvas,useFrame}from'@react-three/fiber';import{Billboard,Text,TrackballControls}from'@react-three/drei';import{BrowserRouter as Router,Routes,Route,useNavigate,useLocation}from'react-router-dom';// Import page components\nimport About from'./pages/About';import Skills from'./pages/Skills';import Projects from'./pages/Projects';import Contact from'./pages/Contact';import Home from'./pages/Home';// Import layout component\nimport Layout from'./components/Layout';// Word component for navigable words\nfunction Word(_ref){let{children,path,navigate,...props}=_ref;const color=new THREE.Color();const fontProps={font:'/Inter-Bold.woff',fontSize:2.5,letterSpacing:-0.05,lineHeight:1,'material-toneMapped':false};const ref=useRef();const[hovered,setHovered]=useState(false);const over=e=>setHovered(true);const out=()=>setHovered(false);// Change the mouse cursor on hover\nuseEffect(()=>{if(hovered)document.body.style.cursor='pointer';return()=>document.body.style.cursor='auto';},[hovered]);// Handle navigation using the passed navigate function\nconst handleClick=()=>{// Get the current location to check if we're on a content page\nconst isMinimized=document.querySelector('.scene-container[data-is-minimized=\"true\"]');// If the 3D model is minimized, always navigate to the landing page\nif(isMinimized){navigate('/');return;}// Normal navigation when on landing page\nif(path){if(path.startsWith('http://')||path.startsWith('https://')){window.open(path,'_blank');}else{navigate(path);}}};// Handle touch events specifically for mobile\nconst handleTouch=e=>{e.stopPropagation();// Prevent event from bubbling up\nsetHovered(true);// Set hover state for visual feedback\n// Get the current state of the 3D model\nconst isMinimized=document.querySelector('.scene-container[data-is-minimized=\"true\"]');// If the 3D model is minimized, always navigate to the landing page\nif(isMinimized){navigate('/');}else{// Normal navigation when on landing page\nif(path){if(path.startsWith('http://')||path.startsWith('https://')){window.open(path,'_blank');}else{navigate(path);}}}// Reset hover state after a delay\nsetTimeout(()=>setHovered(false),300);};// Tie component to the render-loop\nuseFrame(_ref2=>{let{camera}=_ref2;// Make text bigger as it gets closer to the camera\nconst worldPosition=ref.current.getWorldPosition(new THREE.Vector3());const distance=worldPosition.distanceTo(camera.position);const scale=1+10/distance;// Adjust this formula as needed\nref.current.material.color.lerp(color.set(hovered?'#64ffda':'#ccd6f6'),0.1);ref.current.scale.lerp(new THREE.Vector3(scale,scale,scale),0.1);});return/*#__PURE__*/_jsx(Billboard,{...props,children:/*#__PURE__*/_jsx(Text,{ref:ref,onPointerOver:over,onPointerOut:out,onClick:handleClick,onTouchStart:handleTouch// Add touch event handler\n,onTouchEnd:e=>e.stopPropagation()// Prevent conflicts with TrackballControls\n,...fontProps,children:children})});}function Cloud(_ref3){let{count=8,radius=20,navigate}=_ref3;// Define navigation words and their paths\nconst navWords=[{text:'Home',path:'/home'},{text:'About',path:'/about'},{text:'Skills',path:'/skills'},{text:'Projects',path:'/projects'},{text:'Contact',path:'/contact'}];// Create a distribution of words on a sphere\nconst words=useMemo(()=>{const temp=[];const spherical=new THREE.Spherical();// Place navigation words in a more spaced out distribution\nconst phiSpan=Math.PI/(navWords.length+1);const thetaSpan=Math.PI*2/navWords.length;// Position the nav words evenly around the sphere - only one instance of each\nfor(let i=0;i<navWords.length;i++){const phi=phiSpan*(i+1);const theta=thetaSpan*i;const pos=new THREE.Vector3().setFromSpherical(spherical.set(radius,phi,theta));temp.push([pos,navWords[i].text,navWords[i].path]);}return temp;},[radius]);return words.map((_ref4,index)=>{let[pos,word,path]=_ref4;return/*#__PURE__*/_jsx(Word,{position:pos,path:path,navigate:navigate,children:word},index);});}// Wrapper component for the 3D scene\nfunction Scene(_ref5){let{navigate,isMinimized,setIsMinimized}=_ref5;const handleSceneClick=e=>{if(isMinimized){// When minimized, any click on the scene or its children will navigate to landing page\ne.stopPropagation();setIsMinimized(false);navigate('/');return;}};// Handle touch events specifically for mobile\nconst handleSceneTouch=e=>{if(isMinimized){// When minimized, any touch on the scene or its children will navigate to landing page\ne.stopPropagation();e.preventDefault();setIsMinimized(false);navigate('/');return;}};// Use useState and useEffect for hover state\nconst[isHovered,setIsHovered]=useState(false);// Get window width for responsive styling\nconst[windowWidth,setWindowWidth]=useState(window.innerWidth);useEffect(()=>{const handleResize=()=>setWindowWidth(window.innerWidth);window.addEventListener('resize',handleResize);return()=>window.removeEventListener('resize',handleResize);},[]);// Define styles based on minimized state, hover state, and window width\nconst containerStyle=isMinimized?{position:'fixed',width:windowWidth<=768?'100px':'150px',height:windowWidth<=768?'100px':'150px',bottom:windowWidth<=768?'20px':'30px',right:windowWidth<=768?'20px':'30px',top:'auto',left:'auto',borderRadius:'50%',boxShadow:isHovered?'0 0 20px 8px rgba(100, 255, 218, 0.25)':'0 0 15px 5px rgba(100, 255, 218, 0.15)',background:'var(--color-navy-light)',zIndex:9999,// Ensure it's on top of everything\ncursor:'pointer',display:'flex',alignItems:'center',justifyContent:'center',overflow:'hidden',transform:isHovered?'scale(1.05)':'none',transition:'all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1)'}:{position:'absolute',top:0,left:0,width:'100vw',height:'100vh',zIndex:10,transition:'all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1)',pointerEvents:'auto'};return/*#__PURE__*/_jsx(\"div\",{className:\"scene-container\",onClick:handleSceneClick,onTouchStart:handleSceneTouch,onTouchEnd:e=>e.stopPropagation(),onMouseEnter:()=>setIsHovered(true),onMouseLeave:()=>setIsHovered(false),style:containerStyle,\"data-is-minimized\":isMinimized?'true':'false'// Add data attribute for CSS targeting\n,children:/*#__PURE__*/_jsxs(Canvas,{dpr:[1,2],camera:{position:[0,0,35],fov:90},children:[/*#__PURE__*/_jsx(\"fog\",{attach:\"fog\",args:['#0a192f',0,80]}),/*#__PURE__*/_jsx(Suspense,{fallback:null,children:/*#__PURE__*/_jsx(\"group\",{rotation:[10,10.5,10],children:/*#__PURE__*/_jsx(Cloud,{count:8,radius:20,navigate:navigate})})}),/*#__PURE__*/_jsx(TrackballControls// Configure TrackballControls to work better with touch events\n,{noZoom:false,noPan:false,dynamicDampingFactor:0.15,rotateSpeed:1.5,maxDistance:80,minDistance:20// Add className for CSS targeting\n,className:\"trackball-controls\"})]})});}// This component will live inside the Router and can use hooks.\nfunction AppContent(){const navigate=useNavigate();const location=useLocation();const[isMinimized,setIsMinimized]=useState(location.pathname!=='/');useEffect(()=>{setIsMinimized(location.pathname!=='/');},[location.pathname]);return/*#__PURE__*/_jsxs(\"div\",{style:{width:'100%',height:'100%',position:'relative'},children:[/*#__PURE__*/_jsx(Scene,{navigate:navigate,isMinimized:isMinimized,setIsMinimized:setIsMinimized}),location.pathname!=='/'&&/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Home,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(About,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/skills\",element:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Skills,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/projects\",element:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Projects,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Contact,{})})})]})]});}// Import MobileEnhancer component\nimport MobileEnhancer from'./components/MobileEnhancer';import'./components/MobileEnhancer.css';// Main App component with routing\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(AppContent,{}),/*#__PURE__*/_jsx(MobileEnhancer,{}),\" \"]});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}